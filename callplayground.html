<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Call Playground</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>
        .typing {
            display: inline-block;
            overflow: hidden;
            width: 0;
            white-space: pre-wrap; /* Changed to pre-wrap */
            animation: typing 0.5s steps(1, end) forwards;
        }

        @keyframes typing {
            from {
                width: 0;
            }
            to {
                width: 100%;
            }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-black to-purple-900 p-10 text-gray-200 min-h-screen">

<!-- Navbar -->
<nav class="mb-10 p-5 rounded-lg flex justify-between items-center">
    <!-- Logo -->
    <a href="index.html">
        <img src="TheraSpeak.png" alt="TheraSpeak Logo" class="h-10 w-auto">
    </a>

    <!-- Navigation Links -->
    <ul class="flex space-x-20">
        <li><a href="index.html" class="text-white hover:text-purple-500">Home</a></li>
        <li><a href="about.html" class="text-white hover:text-purple-500">About</a></li>
        <li><a href="login.html" class="text-white hover:text-purple-500">Login</a></li>
    </ul>
</nav>

<h1 class="text-6xl font-extrabold mb-10 text-center text-purple-400">Call Playground</h1>

<div class="flex space-x-10 mb-20">

    <!-- Left side: Audio Transcription -->
    <div class="w-1/2 bg-gray-700 p-5 rounded-lg shadow-lg">
        <pre id="transcription" class="text-sm font-mono bg-gray-800 p-5 rounded-lg text-white whitespace-pre-wrap m-0 typing"></pre>
    </div>

    <!-- Right side: Prompts -->
    <div class="w-1/2 space-y-5">
        <!-- Each prompt box -->
        <div class="bg-gray-700 p-5 rounded-xl shadow-lg text-white whitespace-pre-wrap relative">
            <div class="absolute top-0 right-5 flex space-x-2 mb-2 p-4">
                <button class="thumbs-up bg-green-500 p-2 rounded-full focus:outline-none" onclick="feedback(true)">üëç</button>
                <button class="thumbs-down bg-red-500 p-2 rounded-full focus:outline-none" onclick="feedback(false)">üëé</button>
            </div>
            <p id="prompt1" class="typing"></p>
        </div>
        <div class="bg-gray-700 p-5 rounded-xl shadow-lg text-white whitespace-pre-wrap relative">
            <div class="absolute top-0 right-5 flex space-x-2 mb-2 p-4">
                <button class="thumbs-up bg-green-500 p-2 rounded-full focus:outline-none" onclick="feedback(true)">üëç</button>
                <button class="thumbs-down bg-red-500 p-2 rounded-full focus:outline-none" onclick="feedback(false)">üëé</button>
            </div>
            <p id="prompt2" class="typing"></p>
        </div>
    </div>

</div>

<script>
    function feedback(isPositive) {
        if (isPositive) {
            alert("Thank you for your feedback. We'll make sure to generate similar responses in the future.");
        } else {
            alert("Thank you for your feedback. We'll make sure to not generate this response again.");
        }
    }

    function clearTextbox() {
        document.querySelector("textarea").value = "";
    }

    // Typing animation
    document.addEventListener("DOMContentLoaded", function() {
        const transcriptionText = "Hello? Is someone there? Yes, hello! You've reached the mental health hotline. My name is Sarah. How can I assist you today? Hi, Sarah. My name's Alex. I've been feeling really overwhelmed lately. I can't seem to shake this constant feeling of sadness and anxiety. Hi, Alex. I'm here to listen and help. It takes courage to reach out, so thank you for sharing that with me. Can you tell me a bit more about what's been going on? Is there something specific that's been bothering you? Well, it's a combination of things. My job has been really stressful, and I'm having trouble sleeping because of it. On top of that, my personal life has been strained, and I just can't seem to find any joy in things I used to love doing. I'm really sorry to hear that you're going through such a tough time, Alex. It sounds like you're dealing with a lot of stressors. You're not alone in this, though. We can work through it together. Can you tell me more about the sleep issues you've been experiencing? Yeah, I just toss and turn at night, my mind racing with all these worries. I'm exhausted during the day, and it's making everything even harder to cope with.";
        const prompt1Text = "I'm really sorry to hear that you're going through such a tough time, Alex. It sounds like you're dealing with a lot of stressors. You're not alone in this, though. We can work through it together. Can you tell me more about the sleep issues you've been experiencing?";
        const prompt2Text = "Sleep problems can certainly make everything feel more challenging. Let's start by exploring some relaxation techniques that might help with your sleep. Have you tried any relaxation exercises before, like deep breathing or progressive muscle relaxation?";

        function wrapWordsWithTypingAnimation(elementId, text) {
            let wrappedText = `<span class="typing">${text}</span>`;
            document.getElementById(elementId).innerHTML = wrappedText;
        }

        wrapWordsWithTypingAnimation("transcription", transcriptionText);
        wrapWordsWithTypingAnimation("prompt1", prompt1Text);
        wrapWordsWithTypingAnimation("prompt2", prompt2Text);
    });
</script>

</body>
</html>